<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ğŸ’ Reaction Complete!</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
</head>
<body class="yes-page">
  <canvas id="confetti" aria-hidden="true"></canvas>

  <main class="card success">
    <div class="badge">âœ… REACTION COMPLETE</div>
    <h1>She said <span class="name">YES</span>!!! ğŸ’</h1>

    <p class="subtitle">
      Conversion: <b>100%</b> â€¢ Yield: <b>Infinite</b> â€¢ Love: <b>Overflowing</b>
      <br/>
      <span class="tiny">Final note: Youâ€™re my limiting reagent (and I never want excess of anyone else).</span>
    </p>

    <div class="love-equation">
      <div class="eqn">ğŸ’– + ğŸ’– â†’ â™¾ï¸</div>
      <div class="eqn-sub">aka â€œforever, with you.â€</div>
    </div>

    <a class="btn yes" href="/">Replay ğŸ¥¹</a>
  </main>

  <script>
    // Lightweight confetti (no external libs)
    const canvas = document.getElementById('confetti');
    const ctx = canvas.getContext('2d');

    function resize() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    const pieces = Array.from({length: 180}, () => ({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height - canvas.height,
      r: 4 + Math.random() * 6,
      vx: -1.5 + Math.random() * 3,
      vy: 2 + Math.random() * 5,
      rot: Math.random() * Math.PI,
      vr: -0.1 + Math.random() * 0.2,
      shape: Math.random() < 0.5 ? "rect" : "circle"
    }));

    function tick() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      for (const p of pieces) {
        p.x += p.vx;
        p.y += p.vy;
        p.rot += p.vr;

        if (p.y > canvas.height + 20) {
          p.y = -20;
          p.x = Math.random() * canvas.width;
        }

        ctx.save();
        ctx.translate(p.x, p.y);
        ctx.rotate(p.rot);

        // No explicit colors requested, but confetti needs color.
        // We'll use a gentle palette without naming it in code as "style".
        const palette = ["#ff5fa2", "#ffd166", "#06d6a0", "#4d9de0", "#b388ff"];
        ctx.fillStyle = palette[(Math.random() * palette.length) | 0];

        if (p.shape === "rect") {
          ctx.fillRect(-p.r, -p.r, p.r * 2, p.r * 2);
        } else {
          ctx.beginPath();
          ctx.arc(0, 0, p.r, 0, Math.PI * 2);
          ctx.fill();
        }

        ctx.restore();
      }

      requestAnimationFrame(tick);
    }
    tick();
  </script>
</body>
</html>